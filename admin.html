<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Administration du contrat</title>
</head>

<body>
    <button onclick="createMetaMaskDapp()" id="meta-button">Connexion MetaMask</button><span type="text" id="metaMaskOK">&nbspVeuillez vous connecter</span><br><br>
    <a href="/" class="top-right-button">Client Page</a>
    <h1 class="center-text">Administration du contrat</h1>
    <h2><u>Que voulez-vous faire ?</u></h2>
    <div id="menu-admin">
        <div class="menu-choix">
            <a href="#newImage">
                <h3>Créer une nouvelle image</h3>
            </a>
        </div>
        <div class="menu-choix">
            <a href="#changeOwner">
                <h3>Changer le propriétaire du contrat</h3>
            </a>
        </div>
        <div class="menu-choix">
            <a href="#setAdmins">
                <h3>Définir les administrateurs du contrat</h3>
            </a>
        </div>
        <div class="menu-choix">
            <a href="#setAccessLevel">
                <h3>Définir le niveau d'accès à une image</h3>
            </a>
        </div>
        <div class="menu-choix">
            <a href="#contractBalance">
                <h3>Connaître les fonds détenus par le contrat</h3>
            </a>
        </div>
    </div>

    <div class="centrer-bordure" id="newImage">
        <div class="bordure">
            <button onclick="createMetaMaskDapp()" id="meta-button-relative">Connexion MetaMask</button>
            <button onclick="window.location.href='#'" class="btn-retour-menu">Menu</button>
            <h3><u>C'est ici que vous créez un nouveau token au contrat en ajoutant les métadonnées d'une image</u> : </h3>
            Autoriser PixT à gérer la commercialisation et l'impression de la photo ?
            <input type="radio" name="autorisation" value="oui" id="oui" checked /> <label for="oui">oui</label>
            <input type="radio" name="autorisation" value="non" id="non" /> <label for="non">non</label>
            <br><br> Fichier Métadonnées (.csv) : <input type="file" id="csvFile"><br><br><button onclick="lireCSV()">Ajouter Metadonnées</button><br><br>
            <span type="text" id="csvResult"></span><br>
        </div>
    </div>
    <div class="centrer-bordure" id="changeOwner">
        <div class="bordure">
            <button onclick="createMetaMaskDapp()" id="meta-button-relative">Connexion MetaMask</button>
            <button onclick="window.location.href='#'" class="btn-retour-menu">Menu</button>
            <h3><u>Changer propriétaire du contrat (IRREVERSIBLE !)</u></h3>
            Seul l'actuel propriétaire du contrat peut effectuer cette action <br><br> Adresse nouveau propriétaire : <input type="text" id="newOwnerAddr" placeholder="Adresse format 0x..."><br><br>
            <button onclick="setNewOwner()">Changer</button><br><br>
        </div>
    </div>
    <div class="centrer-bordure" id="setAdmins">
        <div class="bordure">
            <button onclick="createMetaMaskDapp()" id="meta-button-relative">Connexion MetaMask</button>
            <button onclick="window.location.href='#'" class="btn-retour-menu">Menu</button>
            <h3><u>Définir les adresses des administrateurs</u></h3>
            Seul l'actuel propriétaire du contrat peut effectuer cette action <br><br> Admin 1 : <input type="text" id="admin1" placeholder="Adresse format 0x..."><br><br> Admin 2 : <input type="text" id="admin2" placeholder="Adresse format 0x..."><br><br>            Admin 3 : <input type="text" id="admin3" placeholder="Adresse format 0x..."><br><br>
            <button onclick="setRolesAddress()">Définir</button><br><br>
        </div>
    </div>
    <div class="centrer-bordure" id="setAccessLevel">
        <div class="bordure">
            <button onclick="createMetaMaskDapp()" id="meta-button-relative">Connexion MetaMask</button>
            <button onclick="window.location.href='#'" class="btn-retour-menu">Menu</button>
            <h3><u>Définir le niveau d'accès du propriétaire d'une image</u> :</h3>
            Identifiant de l'image : <input type="text" id="tokenID-acces-level" placeholder="Image ID"><br><br> Niveau d'accès :
            <FORM>
                <SELECT id="accesLevel">
            <OPTION value="1">niveau1
            <OPTION value="2">niveau2
            <OPTION value="3">niveau3
            <OPTION value="4">niveau4
            <OPTION value="5">niveau5
            </SELECT>
            </FORM><br>
            <button onclick="setAccessLevel()">Définir</button><br><br>
        </div>
    </div>
    <div class="centrer-bordure" id="contractBalance">
        <div class="bordure">
            <button onclick="createMetaMaskDapp()" id="meta-button-relative">Connexion MetaMask</button>
            <button onclick="window.location.href='#'" class="btn-retour-menu">Menu</button>
            <h3><u>Balance du contrat</u> :</h3>
            Seul l'actuel propriétaire du contrat peut effectuer cette action <br><br>
            <button onclick="getBalance()">Balance</button><br><br>
            <span type="text" id="SCBalance"></span><br><br>
        </div>
    </div>

    <script src="https://cdn.ethers.io/scripts/ethers-v4.min.js" charset="utf-8" type="text/javascript"></script>
    <script src="app.js"></script>
    <script src="infos_SC.js"></script>
</body>

</html>